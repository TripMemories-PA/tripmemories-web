<p-toast></p-toast>
<p-table [value]="cartItems" responsiveLayout="scroll">
    <ng-template pTemplate="header">
        <tr>
            <th>Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th>Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
        <tr>
            <td>{{ item.name }}</td>
            <td>{{ item.price }}€</td>
            <td>
                <p-inputNumber
                    [(ngModel)]="item.quantity"
                    [min]="1"
                    (change)="updateQuantity(item, item.quantity)"
                ></p-inputNumber>
            </td>
            <td>{{ item.price * item.quantity }}€</td>
            <td>
                <button
                    pButton
                    type="button"
                    icon="pi pi-trash"
                    class="p-button-danger"
                    (click)="removeItem(item)"
                ></button>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="footer">
        <tr>
            <td colspan="3" style="text-align: right">Total:</td>
            <td>{{ getTotal() }}€</td>
            <td><button pButton label="Payer"></button></td>
        </tr>
    </ng-template>
</p-table>
